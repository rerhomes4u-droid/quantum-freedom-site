<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equity Call Handler & Colombian Sovereignty Engine</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #003893;
            --secondary: #FCD116;
            --accent: #CE1126;
            --success: #28a745;
            --warning: #ffc107;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --card-bg: rgba(30, 30, 46, 0.8);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0f23 0%, var(--dark) 100%);
            color: white;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        @media (max-width: 1200px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
        
        .app-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .section-header {
            text-align: center;
            padding-bottom: 2rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .section-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .section-subtitle {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .panel-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .form-input {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 1rem;
            color: white;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 56, 147, 0.3);
        }
        
        .script-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.8;
        }
        
        .script-step {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .script-step:last-child {
            border-bottom: none;
        }
        
        .step-title {
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .step-content {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .response-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .call-status {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            margin: 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .status-label {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .status-value {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .notes-area {
            width: 100%;
            height: 150px;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            resize: vertical;
        }
        
        .legal-principles {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .principle-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--secondary);
        }
        
        .principle-title {
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .timer {
            font-size: 1.5rem;
            text-align: center;
            margin: 1rem 0;
            color: var(--secondary);
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .tool-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--secondary);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .tool-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--secondary);
        }
        
        .document-preview {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.5;
        }
        
        .tab-container {
            margin: 2rem 0;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--secondary);
            color: var(--secondary);
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .training-module {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--secondary);
        }
        
        .module-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .progress-tracker {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            border-radius: 6px;
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .correspondence-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--secondary);
        }
        
        .correspondence-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .correspondence-title {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .correspondence-date {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .correspondence-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- English Call Handling System -->
        <div class="app-section">
            <div class="section-header">
                <h1 class="section-title">Equity Call Handling System</h1>
                <p class="section-subtitle">Handle debt collection calls using equity principles and UCC provisions</p>
            </div>
            
            <div class="call-status">
                <h2 class="panel-title"><i class="fas fa-phone"></i> Call Status</h2>
                <div class="status-item">
                    <span class="status-label">Call Duration:</span>
                    <span class="status-value" id="callTimer">00:00</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Status:</span>
                    <span class="status-value" id="callStatus">Not Started</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Information Collected:</span>
                    <span class="status-value" id="infoCollected">0/5</span>
                </div>
            </div>
            
            <div class="form-group">
                <label>Collector's Name</label>
                <input type="text" class="form-input" id="repName" placeholder="e.g., John Smith">
            </div>
            <div class="form-group">
                <label>Employee ID</label>
                <input type="text" class="form-input" id="empId" placeholder="e.g., JS-7845">
            </div>
            <div class="form-group">
                <label>Company</label>
                <input type="text" class="form-input" id="company" placeholder="e.g., Collections Inc.">
            </div>
            <div class="form-group">
                <label>Mailing Address</label>
                <input type="text" class="form-input" id="mailingAddress" placeholder="e.g., 123 Main St, Anytown">
            </div>
            <div class="form-group">
                <label>Supervisor's Name</label>
                <input type="text" class="form-input" id="supervisor" placeholder="e.g., Jane Doe">
            </div>
            
            <div class="response-buttons">
                <button class="btn btn-primary" id="startCallBtn">
                    <i class="fas fa-play-circle"></i> Start Call
                </button>
                <button class="btn btn-secondary" id="endCallBtn">
                    <i class="fas fa-stop-circle"></i> End Call
                </button>
            </div>
            
            <div class="script-container">
                <div class="script-step" id="step1">
                    <div class="step-title"><i class="fas fa-1"></i> Call Opening</div>
                    <div class="step-content">When the collector introduces themselves, respond kindly:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Well thank you so much for calling, who am I speaking with?"
                    </div>
                    <div class="response-buttons">
                        <button class="btn btn-primary" onclick="nextStep(1)">I've said this</button>
                    </div>
                </div>
                
                <div class="script-step" id="step2" style="display: none;">
                    <div class="step-title"><i class="fas fa-2"></i> Collect Information</div>
                    <div class="step-content">Once they give their name, continue asking kindly:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Do you have an employee ID number?"
                    </div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "What's the company you work for?"
                    </div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "What's your mailing location?"
                    </div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "May I have your supervisor's name?"
                    </div>
                    <div class="response-buttons">
                        <button class="btn btn-primary" onclick="nextStep(2)">I've collected this information</button>
                    </div>
                </div>
                
                <div class="script-step" id="step3" style="display: none;">
                    <div class="step-title"><i class="fas fa-3"></i> Ask What They Need</div>
                    <div class="step-content">Once you have all the information, ask:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Great. So what is it you're needing from me?"
                    </div>
                    <div class="response-buttons">
                        <button class="btn btn-primary" onclick="nextStep(3)">I've asked this</button>
                    </div>
                </div>
                
                <div class="script-step" id="step4" style="display: none;">
                    <div class="step-title"><i class="fas fa-4"></i> Request Written Presentment</div>
                    <div class="step-content">When the collector asks for payment, respond kindly:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Thank you so much for calling. If you could put that in writing and put it in the mail to me, I will honor that immediately once I get it; could you do that for me?"
                    </div>
                    <div class="response-buttons">
                        <button class="btn btn-primary" onclick="nextStep(4)">I've requested written presentment</button>
                    </div>
                </div>
                
                <div class="script-step" id="step5" style="display: none;">
                    <div class="step-title"><i class="fas fa-5"></i> Handle Objections</div>
                    <div class="step-content">If the collector complains you haven't paid, ask:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Does your record reflect that I have accepted and returned all the presentments which you have sent me for settlement and closure of this matter?"
                    </div>
                    <div class="step-content">Repeat this until they get the picture. Then repeat the request for written presentment.</div>
                    <div class="response-buttons">
                        <button class="btn btn-primary" onclick="nextStep(5)">I've handled the objection</button>
                    </div>
                </div>
                
                <div class="script-step" id="step6" style="display: none;">
                    <div class="step-title"><i class="fas fa-flag-checkered"></i> End Call</div>
                    <div class="step-content">Once you've requested the written document, end the call kindly:</div>
                    <div class="step-content" style="background: rgba(252, 209, 22, 0.1); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        "Thank you so much, you have a wonderful day."
                    </div>
                    <div class="response-buttons">
                        <button class="btn btn-success" onclick="completeCall()">Complete Call</button>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Call Notes</label>
                <textarea class="notes-area" id="callNotes" placeholder="Take important notes during the call..."></textarea>
            </div>
            
            <div class="legal-principles">
                <h2 class="panel-title"><i class="fas fa-balance-scale"></i> Legal Principles Applied</h2>
                <div class="principle-card">
                    <div class="principle-title">Principle of Equity</div>
                    <div class="step-content">Equity seeks justice based on fairness principles, not just technical rules. By offering to "honor" the debt, you're operating under equitable principles.</div>
                </div>
                <div class="principle-card">
                    <div class="principle-title">UCC 1-308 Reservation of Rights</div>
                    <div class="step-content">This UCC provision allows you to reserve all rights while still proceeding. Always include "Without Prejudice UCC 1-308" in communications.</div>
                </div>
                <div class="principle-card">
                    <div class="principle-title">Written Presentment Requirement</div>
                    <div class="step-content">Commercial law requires proper presentment of claims. By requesting written documentation, you ensure a formal process.</div>
                </div>
            </div>
        </div>
        
        <!-- Colombian Sovereignty Engine -->
        <div class="app-section">
            <div class="section-header">
                <h1 class="section-title">Motor de Soberanía Colombiano</h1>
                <p class="section-subtitle">Sistema completo de liberación legal basado en el Código de Comercio y principios de equidad</p>
            </div>
            
            <div class="tab-container">
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('documents')">Documentos</div>
                    <div class="tab" onclick="switchTab('correspondence')">Correspondencia</div>
                    <div class="tab" onclick="switchTab('training')">Capacitación</div>
                    <div class="tab" onclick="switchTab('tools')">Herramientas</div>
                </div>
                
                <div class="tab-content active" id="documents-tab">
                    <h2 class="panel-title"><i class="fas fa-file-contract"></i> Generador de Documentos Soberanos</h2>
                    
                    <div class="form-group">
                        <label>Tipo de Documento</label>
                        <select class="form-input" id="documentType" onchange="updateDocumentPreview()">
                            <option value="">Seleccione un documento soberano</option>
                            <option value="sovereign-declaration">Declaración de Estado Soberano</option>
                            <option value="commercial-notice">Aviso Comercial (Código de Comercio)</option>
                            <option value="fiction-rejection">Rechazo de Ficción Legal</option>
                            <option value="debt-discharge">Descargo de Deuda Soberana</option>
                            <option value="acceptance-presentment">Aceptación de Presentación</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Su Información Soberana</label>
                        <input type="text" class="form-input" id="sovereignName" placeholder="Su nombre soberano verdadero" oninput="updateDocumentPreview()">
                        <input type="text" class="form-input" id="sovereignAddress" placeholder="Su dirección física" style="margin-top: 0.5rem;" oninput="updateDocumentPreview()">
                        <input type="text" class="form-input" id="idNumber" placeholder="Su número de identificación" style="margin-top: 0.5rem;" oninput="updateDocumentPreview()">
                    </div>
                    
                    <div class="document-preview" id="documentPreview">
                        Seleccione un tipo de documento para previsualizar...
                    </div>
                    
                    <button class="btn btn-primary" onclick="downloadSovereignDocument()">
                        <i class="fas fa-download"></i> Descargar Documento Soberano
                    </button>
                </div>
                
                <div class="tab-content" id="correspondence-tab">
                    <h2 class="panel-title"><i class="fas fa-envelope"></i> Seguimiento de Correspondencia</h2>
                    
                    <div class="form-group">
                        <label>Agregar Nueva Correspondencia</label>
                        <input type="text" class="form-input" id="corrTitle" placeholder="Título o asunto">
                        <textarea class="notes-area" id="corrDetails" placeholder="Detalles de la correspondencia..." style="margin-top: 0.5rem;"></textarea>
                        <button class="btn btn-primary" onclick="addCorrespondence()" style="margin-top: 1rem;">
                            <i class="fas fa-plus"></i> Agregar Registro
                        </button>
                    </div>
                    
                    <div id="correspondenceList">
                        <!-- Correspondence items will be added here -->
                    </div>
                </div>
                
                <div class="tab-content" id="training-tab">
                    <h2 class="panel-title"><i class="fas fa-graduation-cap"></i> Módulos de Capacitación</h2>
                    
                    <div class="training-module">
                        <div class="module-title">Módulo 1: Fundamentos de la Soberanía</div>
                        <div class="step-content">
                            Aprenda los principios básicos de la soberanía personal y la separación de la ficción legal.
                            <br><br>
                            <strong>Contenido:</strong>
                            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                                <li>Qué es la soberanía personal</li>
                                <li>La diferencia entre la persona física y la ficción legal</li>
                                <li>Fundamentos del Código de Comercio Colombiano</li>
                                <li>Principios de equidad en el derecho</li>
                            </ul>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 1rem;">
                            <i class="fas fa-play-circle"></i> Iniciar Módulo
                        </button>
                    </div>
                    
                    <div class="training-module">
                        <div class="module-title">Módulo 2: Código de Comercio Colombiano</div>
                        <div class="step-content">
                            Domine las provisiones clave del Código de Comercio que aplican a la soberanía personal.
                            <br><br>
                            <strong>Artículos clave:</strong>
                            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                                <li>Artículo 6: Principios de equidad</li>
                                <li>Artículo 48: Presentación comercial</li>
                                <li>Artículo 823: Derechos reservados</li>
                                <li>Artículo 974: Descargo de obligaciones</li>
                            </ul>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 1rem;">
                            <i class="fas fa-play-circle"></i> Iniciar Módulo
                        </button>
                    </div>
                    
                    <div class="training-module">
                        <div class="module-title">Módulo 3: Manejo de Llamadas de Cobranza</div>
                        <div class="step-content">
                            Aprenda a manejar llamadas de cobranza usando principios de equidad y el Código de Comercio.
                            <br><br>
                            <strong>Técnicas:</strong>
                            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                                <li>Mantener la calma y el tono amable</li>
                                <li>Recopilar información completa</li>
                                <li>Solicitar presentación por escrito</li>
                                <li>Usar el lenguaje correcto de "honor"</li>
                            </ul>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 1rem;">
                            <i class="fas fa-play-circle"></i> Iniciar Módulo
                        </button>
                    </div>
                </div>
                
                <div class="tab-content" id="tools-tab">
                    <h2 class="panel-title"><i class="fas fa-tools"></i> Herramientas de Soberanía</h2>
                    
                    <div class="tools-grid">
                        <div class="tool-card" onclick="openTool('identity')">
                            <div class="tool-icon"><i class="fas fa-crown"></i></div>
                            <div class="tool-title">Identidad Soberana</div>
                            <div class="step-content">Establezca su estado soberano y sepárese de la ficción legal.</div>
                        </div>
                        
                        <div class="tool-card" onclick="openTool('commercial')">
                            <div class="tool-icon"><i class="fas fa-balance-scale"></i></div>
                            <div class="tool-title">Código de Comercio</div>
                            <div class="step-content">Herramientas basadas en el Código de Comercio Colombiano.</div>
                        </div>
                        
                        <div class="tool-card" onclick="openTool('education')">
                            <div class="tool-icon"><i class="fas fa-graduation-cap"></i></div>
                            <div class="tool-title">Educación Legal</div>
                            <div class="step-content">Aprenda los principios legales para la soberanía.</div>
                        </div>
                        
                        <div class="tool-card" onclick="openTool('tracking')">
                            <div class="tool-icon"><i class="fas fa-chart-line"></i></div>
                            <div class="tool-title">Seguimiento de Casos</div>
                            <div class="step-content">Gestione y realice seguimiento de todos sus casos.</div>
                        </div>
                    </div>
                    
                    <div class="progress-tracker">
                        <h2 class="panel-title"><i class="fas fa-tasks"></i> Progreso de Soberanía</h2>
                        <div class="progress-bar">
                            <div class="progress-fill" id="sovereigntyProgress" style="width: 0%"></div>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Nivel de Soberanía:</span>
                            <span class="status-value" id="sovereigntyLevel">0%</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Documentos Generados:</span>
                            <span class="status-value" id="docsGenerated">0</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Casos Activos:</span>
                            <span class="status-value" id="activeCases">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification System -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Operation completed successfully!</span>
    </div>

    <script>
        // =============================================
        // ENGLISH CALL HANDLING SYSTEM
        // =============================================
        
        // Application state
        const appState = {
            callActive: false,
            callStartTime: null,
            timerInterval: null,
            currentStep: 1,
            infoCollected: 0,
            correspondence: [],
            sovereigntyProgress: 0
        };
        
        // DOM Elements
        const callTimerEl = document.getElementById('callTimer');
        const callStatusEl = document.getElementById('callStatus');
        const infoCollectedEl = document.getElementById('infoCollected');
        const startCallBtn = document.getElementById('startCallBtn');
        const endCallBtn = document.getElementById('endCallBtn');
        const notificationEl = document.getElementById('notification');
        const notificationTextEl = document.getElementById('notificationText');
        
        // Start call
        startCallBtn.addEventListener('click', function() {
            if (!validateInfo()) {
                showNotification('Please complete all collector information before starting the call.');
                return;
            }
            
            appState.callActive = true;
            appState.callStartTime = new Date();
            appState.currentStep = 1;
            appState.infoCollected = 0;
            
            callStatusEl.textContent = 'In Progress';
            startCallBtn.disabled = true;
            endCallBtn.disabled = false;
            
            // Start timer
            startTimer();
            
            // Show first step
            showStep(1);
            
            showNotification('Call started. Follow the script step by step.');
        });
        
        // End call
        endCallBtn.addEventListener('click', function() {
            appState.callActive = false;
            callStatusEl.textContent = 'Ended';
            startCallBtn.disabled = false;
            endCallBtn.disabled = true;
            
            // Stop timer
            clearInterval(appState.timerInterval);
            
            showNotification('Call ended. Review your notes and prepare for written follow-up.');
        });
        
        // Validate collector information
        function validateInfo() {
            const repName = document.getElementById('repName').value;
            const empId = document.getElementById('empId').value;
            const company = document.getElementById('company').value;
            const mailingAddress = document.getElementById('mailingAddress').value;
            const supervisor = document.getElementById('supervisor').value;
            
            return repName && empId && company && mailingAddress && supervisor;
        }
        
        // Start timer
        function startTimer() {
            appState.timerInterval = setInterval(function() {
                const now = new Date();
                const diff = now - appState.callStartTime;
                const minutes = Math.floor(diff / 60000);
                const seconds = Math.floor((diff % 60000) / 1000);
                
                callTimerEl.textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Show specific step
        function showStep(stepNumber) {
            // Hide all steps
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`step${i}`).style.display = 'none';
            }
            
            // Show current step
            document.getElementById(`step${stepNumber}`).style.display = 'block';
            appState.currentStep = stepNumber;
        }
        
        // Advance to next step
        function nextStep(currentStep) {
            if (currentStep === 2) {
                // Update information collected counter
                updateInfoCollected();
            }
            
            if (currentStep < 6) {
                showStep(currentStep + 1);
            }
        }
        
        // Update information collected
        function updateInfoCollected() {
            const fields = [
                document.getElementById('repName'),
                document.getElementById('empId'),
                document.getElementById('company'),
                document.getElementById('mailingAddress'),
                document.getElementById('supervisor')
            ];
            
            let collected = 0;
            fields.forEach(field => {
                if (field.value.trim() !== '') {
                    collected++;
                }
            });
            
            appState.infoCollected = collected;
            infoCollectedEl.textContent = `${collected}/5`;
        }
        
        // Complete call
        function completeCall() {
            appState.callActive = false;
            callStatusEl.textContent = 'Successfully Completed';
            startCallBtn.disabled = false;
            endCallBtn.disabled = true;
            
            // Stop timer
            clearInterval(appState.timerInterval);
            
            // Add to correspondence
            const notes = document.getElementById('callNotes').value;
            if (notes) {
                addCorrespondenceItem(`Call with ${document.getElementById('company').value}`, notes);
            }
            
            // Update sovereignty progress
            updateSovereigntyProgress(10);
            
            showNotification('Call handled successfully! You have applied equity principles correctly.');
        }
        
        // =============================================
        // COLOMBIAN SOVEREIGNTY ENGINE
        // =============================================
        
        // Document templates for Colombian system
        const documentTemplates = {
            'sovereign-declaration': `DECLARACIÓN DE ESTADO SOBERANO
Y RECHAZO DE FICCIÓN LEGAL

Yo, el ser vivo conocido como [Nombre Soberano], por la presente declaro mi estado soberano.

Soy un ser soberano nacido libre creado por Dios, no una entidad corporativa o ficción legal.

El NOMBRE "[Nombre Ficción Legal]" es una ficción corporativa creada por el estado a la que no consiento que se use en mi contra.

Por la presente reclamo mi derecho divino de autogobierno y rechazo todas las presunciones de consentimiento a la jurisdicción corporativa.

Reservo todos mis derechos dados por Dios bajo la ley natural y no consiento a ninguna jurisdicción que viole esos derechos.

Esta declaración sirve como aviso a todas las agencias gubernamentales, tribunales y entidades corporativas.

Efectivo inmediatamente al firmar.

DECLARADO este día de ${new Date().toLocaleDateString('es-CO')}

Firma Soberana: _________________________
[Nombre Soberano]

Testigo: _________________________
Dirección: [Dirección Física]

AVISO A AGENTES ES AVISO A PRINCIPALES
AVISO A PRINCIPALES ES AVISO A AGENTES`,

            'commercial-notice': `AVISO COMERCIAL
BASADO EN CÓDIGO DE COMERCIO COLOMBIANO

PARA: [Nombre de la Empresa]
DIRECCIÓN: [Dirección de la Empresa]

FECHA: ${new Date().toLocaleDateString('es-CO')}

POR LA PRESENTE se notifica que yo, [Nombre Soberano], opero bajo los principios de equidad y el Código de Comercio Colombiano.

Cualquier reclamo comercial en mi contra debe ser presentado por escrito con documentación completa.

Me reservo todos mis derechos según el Artículo 823 del Código de Comercio.

Sin perjuicio de mis derechos,

Firma: _________________________
[Nombre Soberano]
[Número de Identificación]`,

            'fiction-rejection': `RECHAZO DE FICCIÓN LEGAL

A QUIEN CORRESPONDA:

Por la presente rechazo formalmente la ficción legal conocida como "[Nombre Ficción Legal]".

Esta entidad corporativa fue creada sin mi consentimiento informado y se está utilizando para fines que no autorizo.

Soy el ser vivo, no la ficción corporativa.

Cualquier intento de responsabilizarme por las acciones o deudas de esta ficción legal se considerará fraude.

Este rechazo es efectivo inmediatamente y se aplica a todas las transacciones pasadas, presentes y futuras.

Todos los derechos reservados.

Firmado este ${new Date().toLocaleDateString('es-CO')}

[Firma Soberana]
[Nombre Soberano]`,

            'debt-discharge': `DESCARGO DE DEUDA SOBERANA

POR CORREO CERTIFICADO

[Nombre del Acreedor]
[Dirección del Acreedor]

Fecha: ${new Date().toLocaleDateString('es-CO')}

AVISO DE DESCARGO DE DEUDA

La supuesta deuda referenciada ha sido debidamente descargada mediante procedimientos soberanos.

La deuda nunca existió en dinero legal, solo como crédito bancario que ha sido debidamente liquidado.

Este descargo es final y vinculante.

Cualquier intento adicional de cobrar esta deuda descargada será enfrentado con acción legal por fraude y acoso.

Este aviso sirve como su advertencia final.

Todos los derechos reservados, Sin Prejuicio.

Soberano: [Nombre Soberano]
Firma: _________________________`,

            'acceptance-presentment': `ACEPTACIÓN DE PRESENTACIÓN COMERCIAL

FECHA: ${new Date().toLocaleDateString('es-CO')}

PARA: [Nombre del Acreedor]
DE: [Nombre Soberano]

REFERENCIA: [Número de Referencia o Cuenta]

He recibido su presentación comercial con fecha [Fecha de Presentación].

Acepto esta presentación para liquidación y cierre bajo los principios de equidad y el Código de Comercio Colombiano.

Solicito verificación y validación completa de esta obligación comercial, incluyendo:
1. Prueba del contrato original
2. Cadena de custodia del instrumento
3. Verificación de la firma
4. Cálculo detallado del monto reclamado

Una vez proporcionada esta verificación, procederé con la liquidación equitativa.

Sin Prejuicio, Reservando Todos los Derechos,

Firma: _________________________
[Nombre Soberano]
[Número de Identificación]`
        };
        
        // Switch tabs in Colombian system
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Update document preview
        function updateDocumentPreview() {
            const docType = document.getElementById('documentType').value;
            if (docType) {
                const sovereignName = document.getElementById('sovereignName').value || '[Nombre Soberano]';
                const address = document.getElementById('sovereignAddress').value || '[Dirección Física]';
                const idNumber = document.getElementById('idNumber').value || '[Número de Identificación]';
                
                let documentContent = documentTemplates[docType];
                documentContent = documentContent.replace(/\[Nombre Soberano\]/g, sovereignName);
                documentContent = documentContent.replace(/\[Dirección Física\]/g, address);
                documentContent = documentContent.replace(/\[Número de Identificación\]/g, idNumber);
                documentContent = documentContent.replace(/\[Nombre Ficción Legal\]/g, sovereignName.toUpperCase());
                
                document.getElementById('documentPreview').textContent = documentContent;
            } else {
                document.getElementById('documentPreview').textContent = 'Seleccione un tipo de documento para previsualizar...';
            }
        }
        
        // Download sovereign document
        function downloadSovereignDocument() {
            const docType = document.getElementById('documentType').value;
            if (!docType) {
                showNotification('Por favor seleccione un tipo de documento primero.');
                return;
            }
            
            const documentContent = document.getElementById('documentPreview').textContent;
            const blob = new Blob([documentContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `documento-soberano-${docType}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            // Update progress
            updateSovereigntyProgress(5);
            updateDocsGenerated();
            
            showNotification('Documento soberano descargado! Úselo en sus procedimientos legales.');
        }
        
        // Add correspondence item
        function addCorrespondence() {
            const title = document.getElementById('corrTitle').value;
            const details = document.getElementById('corrDetails').value;
            
            if (!title || !details) {
                showNotification('Por favor ingrese un título y detalles para la correspondencia.');
                return;
            }
            
            addCorrespondenceItem(title, details);
            
            // Clear form
            document.getElementById('corrTitle').value = '';
            document.getElementById('corrDetails').value = '';
            
            showNotification('Registro de correspondencia agregado.');
        }
        
        // Add correspondence item to list
        function addCorrespondenceItem(title, details) {
            const correspondenceList = document.getElementById('correspondenceList');
            const date = new Date().toLocaleDateString('es-CO');
            const id = Date.now();
            
            const item = document.createElement('div');
            item.className = 'correspondence-item';
            item.innerHTML = `
                <div class="correspondence-header">
                    <div class="correspondence-title">${title}</div>
                    <div class="correspondence-date">${date}</div>
                </div>
                <div class="step-content">${details}</div>
                <div class="correspondence-actions">
                    <button class="btn btn-secondary" onclick="editCorrespondence(${id})">
                        <i class="fas fa-edit"></i> Editar
                    </button>
                    <button class="btn btn-secondary" onclick="deleteCorrespondence(${id})">
                        <i class="fas fa-trash"></i> Eliminar
                    </button>
                </div>
            `;
            
            correspondenceList.appendChild(item);
            
            // Update active cases
            updateActiveCases();
        }
        
        // Edit correspondence (placeholder)
        function editCorrespondence(id) {
            showNotification('Funcionalidad de edición en desarrollo.');
        }
        
        // Delete correspondence
        function deleteCorrespondence(id) {
            if (confirm('¿Está seguro de que desea eliminar este registro?')) {
                event.target.closest('.correspondence-item').remove();
                updateActiveCases();
                showNotification('Registro eliminado.');
            }
        }
        
        // Update sovereignty progress
        function updateSovereigntyProgress(increment) {
            appState.sovereigntyProgress = Math.min(100, appState.sovereigntyProgress + increment);
            document.getElementById('sovereigntyProgress').style.width = appState.sovereigntyProgress + '%';
            document.getElementById('sovereigntyLevel').textContent = appState.sovereigntyProgress + '%';
        }
        
        // Update documents generated count
        function updateDocsGenerated() {
            const current = parseInt(document.getElementById('docsGenerated').textContent) || 0;
            document.getElementById('docsGenerated').textContent = current + 1;
        }
        
        // Update active cases count
        function updateActiveCases() {
            const items = document.getElementById('correspondenceList').children.length;
            document.getElementById('activeCases').textContent = items;
        }
        
        // Open tool (placeholder)
        function openTool(toolName) {
            showNotification(`Herramienta ${toolName} en desarrollo.`);
        }
        
        // Show notification
        function showNotification(message) {
            notificationTextEl.textContent = message;
            notificationEl.classList.add('show');
            
            setTimeout(() => {
                notificationEl.classList.remove('show');
            }, 3000);
        }
        
        // Update information collected when fields change
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('input', updateInfoCollected);
        });
        
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Equity Call Handler & Colombian Sovereignty Engine - Ready');
            endCallBtn.disabled = true;
            
            // Initialize with some progress for demo
            setTimeout(() => {
                updateSovereigntyProgress(15);
                document.getElementById('docsGenerated').textContent = 2;
                document.getElementById('activeCases').textContent = 1;
            }, 1000);
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deliverance & Healing Rosary - Spiritual Protection</title>
    <style>
        :root {
            --rosary-gold: #D4AF37;
            --rosary-silver: #C0C0C0;
            --rosary-blue: #4169E1;
            --rosary-red: #8B0000;
            --rosary-white: #F8F8FF;
            --rosary-dark: #2F2F2F;
            --colombia-yellow: #FCD116;
            --colombia-blue: #003893;
            --colombia-red: #CE1126;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: var(--rosary-white);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--rosary-gold);
        }
        
        .header {
            background: linear-gradient(135deg, var(--colombia-blue), var(--colombia-red));
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--rosary-white);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .rosary-section {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--rosary-silver);
        }
        
        .section-title {
            color: var(--rosary-gold);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
            border-bottom: 1px solid var(--rosary-gold);
            padding-bottom: 10px;
        }
        
        .rosary-beads {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
        }
        
        .bead {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .bead.our-father {
            background: var(--rosary-blue);
        }
        
        .bead.hail-mary {
            background: var(--rosary-red);
        }
        
        .bead.glory-be {
            background: var(--rosary-gold);
            color: var(--rosary-dark);
        }
        
        .bead.creed {
            background: var(--colombia-yellow);
            color: var(--rosary-dark);
        }
        
        .bead.active {
            border: 2px solid white;
            transform: scale(1.2);
            box-shadow: 0 0 15px white;
        }
        
        .prayer-display {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--rosary-silver);
            border-radius: 10px;
            padding: 20px;
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
            margin: 20px 0;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        .meditation-display {
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--rosary-gold);
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .control-button {
            padding: 12px 25px;
            background: var(--colombia-red);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .control-button:hover {
            background: #a50e20;
            transform: translateY(-2px);
        }
        
        .secondary-button {
            background: var(--colombia-blue);
        }
        
        .secondary-button:hover {
            background: #002a6d;
        }
        
        .decade-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .decade-button {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid var(--rosary-silver);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .decade-button.active {
            background: var(--rosary-gold);
            color: var(--rosary-dark);
            border-color: var(--rosary-gold);
        }
        
        .progress-indicator {
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
            color: var(--rosary-gold);
        }
        
        .protection-status {
            background: rgba(212, 175, 55, 0.2);
            border: 1px solid var(--rosary-gold);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        
        .status-active {
            color: #00FF00;
            font-weight: bold;
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--colombia-yellow);
        }
        
        .spiritual-note {
            text-align: center;
            font-style: italic;
            margin: 20px 0;
            color: var(--rosary-gold);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid var(--rosary-silver);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        @keyframes gentleGlow {
            0% { box-shadow: 0 0 5px var(--rosary-gold); }
            50% { box-shadow: 0 0 20px var(--rosary-gold); }
            100% { box-shadow: 0 0 5px var(--rosary-gold); }
        }
        
        .glowing {
            animation: gentleGlow 3s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Deliverance & Healing Rosary</h1>
            <p class="subtitle">For the Blessing of Mankind, End of Suffering, and Spiritual Healing</p>
        </div>
        
        <div class="main-content">
            <div class="rosary-section">
                <h2 class="section-title">Rosary Beads</h2>
                
                <div class="rosary-beads" id="rosaryBeads">
                    <!-- Beads will be generated by JavaScript -->
                </div>
                
                <div class="progress-indicator">
                    Progress: <span id="progressText">Begin with Sealing Prayer</span>
                </div>
                
                <div class="decade-selector" id="decadeSelector">
                    <!-- Decade buttons will be generated by JavaScript -->
                </div>
                
                <div class="controls">
                    <button class="control-button" id="startRosary">Begin Rosary</button>
                    <button class="control-button secondary-button" id="resetRosary">Reset</button>
                    <button class="control-button secondary-button" id="autoPray">Auto-Pray</button>
                </div>
                
                <div class="protection-status">
                    SPIRITUAL PROTECTION: <span class="status-active" id="protectionStatus">ACTIVE</span>
                </div>
            </div>
            
            <div class="rosary-section">
                <h2 class="section-title">Prayers & Meditations</h2>
                
                <div class="prayer-display" id="prayerDisplay">
                    <p>Welcome to the Deliverance and Healing Rosary.</p>
                    <p>This powerful prayer format is designed to bring blessings to mankind, end suffering, and provide spiritual healing.</p>
                    <p>Click "Begin Rosary" to start your prayer journey.</p>
                </div>
                
                <div class="meditation-display" id="meditationDisplay">
                    Meditation focus will appear here as you pray each Hail Mary.
                </div>
                
                <div class="instructions">
                    <h3>How to Use This Rosary</h3>
                    <p>1. Begin with the Sealing Prayer of Protection</p>
                    <p>2. Follow the beads in order (click or use Auto-Pray)</p>
                    <p>3. Meditate on the specific intentions as you pray</p>
                    <p>4. Complete all five decades for full spiritual coverage</p>
                </div>
                
                <div class="spiritual-note">
                    "By the Power of the Precious Blood of Jesus and the Intercession of Mary, may all suffering end and all souls be healed."
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>This interactive Rosary is based on "Deliverance Prayers for the Laity"</p>
            <p>May your prayers bring peace, healing, and protection to all mankind.</p>
        </div>
    </div>

    <script>
        // ROSARY DATA STRUCTURE
        const rosaryData = {
            prayers: {
                sealing: {
                    title: "Sealing Prayer of Protection",
                    text: `"I ask Jesus to seal me in His most Precious Blood against any and all incursions of the evil one, in particular against any clinging, familial, familiar or retaliating spirits, in the Name of the Father and of the Son and of the Holy Spirit. Amen."`,
                    type: "special"
                },
                creed: {
                    title: "Apostles' Creed",
                    text: `I believe in God, the Father Almighty, Creator of Heaven and earth; and in Jesus Christ, His only Son, our Lord; who was conceived by the Holy Spirit, born of the Virgin Mary, suffered under Pontius Pilate, was crucified, died, and was buried. He descended into Hell; the third day He rose again from the dead; He ascended into Heaven, and sitteth at the right hand of God, the Father Almighty; from thence He shall come to judge the living and the dead. I believe in the Holy Spirit, the holy Catholic Church, the communion of saints, the forgiveness of sins, the resurrection of the body, and life everlasting. Amen.`,
                    type: "creed"
                },
                ourFather: {
                    title: "Our Father",
                    text: `Our Father, who art in heaven, hallowed be thy name. Thy kingdom come, thy will be done, on earth as it is in heaven. Give us this day our daily bread, and forgive us our trespasses, as we forgive those who trespass against us. And lead us not into temptation, but deliver us from evil. Amen.`,
                    type: "our-father"
                },
                hailMary: {
                    title: "Hail Mary",
                    text: `Hail Mary, full of grace, the Lord is with thee. Blessed art thou among women, and blessed is the fruit of thy womb, Jesus. Holy Mary, Mother of God, pray for us sinners, now and at the hour of our death. Amen.`,
                    type: "hail-mary"
                },
                gloryBe: {
                    title: "Glory Be",
                    text: `Glory be to the Father, and to the Son, and to the Holy Spirit. As it was in the beginning, is now, and ever shall be, world without end. Amen.`,
                    type: "glory-be"
                },
                fatima: {
                    title: "Fatima Prayer",
                    text: `O my Jesus, forgive us our sins, save us from the fires of hell, lead all souls to Heaven, especially those in most need of Thy mercy.`,
                    type: "special"
                },
                hailHolyQueen: {
                    title: "Hail, Holy Queen",
                    text: `Hail, holy Queen, Mother of mercy, our life, our sweetness and our hope. To thee do we cry, poor banished children of Eve. To thee do we send up our sighs, mourning and weeping in this valley of tears. Turn then, most gracious advocate, thine eyes of mercy toward us, and after this our exile, show unto us the blessed fruit of thy womb, Jesus. O clement, O loving, O sweet Virgin Mary. Pray for us, O holy Mother of God, that we may be made worthy of the promises of Christ. Amen.`,
                    type: "special"
                },
                stMichael: {
                    title: "St. Michael Prayer",
                    text: `Saint Michael the Archangel, defend us in battle; be our defense against the wickedness and snares of the devil. May God rebuke him, we humbly pray. And do thou, O prince of the heavenly host, by the power of God thrust into hell Satan and all evil spirits who prowl about the world seeking the ruin of souls. Amen.`,
                    type: "special"
                },
                finalPrayer: {
                    title: "Final Prayer for You",
                    text: `Lord Jesus Christ, by the power of this Holy Rosary and through the merits of Thy Most Precious Blood, I ask You to pour out Your spiritual healing upon me. Guard me under the mantle of Your Mother, surround me with Your holy angels, and fill me with Your peace. Let no retaliation come upon me, but only an increase of faith, hope, and charity. I ask this with perfect confidence in You, who live and reign forever and ever. Amen.`,
                    type: "special"
                }
            },
            decades: [
                {
                    intention: "For the breaking of all curses and occult ties over all people.",
                    meditations: [
                        "For the breaking of all curses and occult ties over all people.",
                        "For the removal of generational spirits and healing of family lines.",
                        "For the binding and blinding of all demons so they cannot retaliate.",
                        "For inner healing of wounded hearts and troubled souls.",
                        "For the severing of all evil ties, bonds, and attachments.",
                        "For protection of all faculties from diabolic influence.",
                        "For grace to reject all evil and consecrate ourselves to God.",
                        "For deliverance of those enslaved by addiction and despair.",
                        "For spiritual healing of all who are weary and burdened.",
                        "For my own spiritual healing and protection."
                    ]
                },
                {
                    intention: "For the complete healing of emotional wounds and trauma in all souls.",
                    meditations: [
                        "For healing of childhood trauma and abuse.",
                        "For restoration of broken relationships and families.",
                        "For comfort for those grieving losses.",
                        "For peace for those suffering from anxiety and depression.",
                        "For strength for caregivers and healers.",
                        "For reconciliation in divided communities.",
                        "For emotional healing through Christ's mercy.",
                        "For release from fear and insecurity.",
                        "For healing of memories that cause pain.",
                        "For my own emotional healing and stability."
                    ]
                },
                {
                    intention: "For the end of physical suffering and illness throughout the world.",
                    meditations: [
                        "For those suffering from chronic illness and pain.",
                        "For healing of cancer and terminal diseases.",
                        "For medical professionals and researchers.",
                        "For access to healthcare for all people.",
                        "For strength for those undergoing treatment.",
                        "For comfort for the hospitalized and homebound.",
                        "For healing of COVID-19 and pandemic diseases.",
                        "For protection from future pandemics.",
                        "For those suffering from malnutrition and hunger.",
                        "For my own physical health and healing."
                    ]
                },
                {
                    intention: "For spiritual liberation and freedom from all bondage.",
                    meditations: [
                        "For those enslaved by addiction to be set free.",
                        "For prisoners and those in correctional facilities.",
                        "For victims of human trafficking and exploitation.",
                        "For those bound by fear and spiritual oppression.",
                        "For deliverance from occult practices and witchcraft.",
                        "For healing of religious trauma and spiritual abuse.",
                        "For conversion of hearts to God's love and mercy.",
                        "For those struggling with faith and belief.",
                        "For renewal of the Church and all Christian communities.",
                        "For my own spiritual growth and freedom."
                    ]
                },
                {
                    intention: "For global peace and the end of violence and conflict.",
                    meditations: [
                        "For an end to war and armed conflict worldwide.",
                        "For reconciliation between nations and ethnic groups.",
                        "For protection of refugees and displaced persons.",
                        "For conversion of terrorists and violent extremists.",
                        "For healing in communities affected by violence.",
                        "For wisdom and compassion in world leaders.",
                        "For protection of religious minorities and the persecuted.",
                        "For an end to abortion and respect for all life.",
                        "For justice and equality in all societies.",
                        "For peace in my own heart and relationships."
                    ]
                }
            ],
            structure: [
                { type: "sealing", label: "SP" },
                { type: "creed", label: "C" },
                { type: "ourFather", label: "OF" },
                { type: "hailMary", label: "HM" },
                { type: "hailMary", label: "HM" },
                { type: "hailMary", label: "HM" },
                { type: "gloryBe", label: "GB" }
            ]
        };

        // Initialize variables
        let currentBead = 0;
        let currentDecade = 0;
        let currentHailMary = 0;
        let autoPrayInterval = null;
        let isInDecade = false;

        // DOM Elements
        const rosaryBeads = document.getElementById('rosaryBeads');
        const prayerDisplay = document.getElementById('prayerDisplay');
        const meditationDisplay = document.getElementById('meditationDisplay');
        const progressText = document.getElementById('progressText');
        const protectionStatus = document.getElementById('protectionStatus');
        const decadeSelector = document.getElementById('decadeSelector');
        const startButton = document.getElementById('startRosary');
        const resetButton = document.getElementById('resetRosary');
        const autoPrayButton = document.getElementById('autoPray');

        // Initialize the Rosary
        function initializeRosary() {
            generateBeads();
            generateDecadeSelector();
            updateDisplay();
        }

        // Generate the rosary beads
        function generateBeads() {
            rosaryBeads.innerHTML = '';
            
            // Add initial beads
            rosaryData.structure.forEach((item, index) => {
                const bead = document.createElement('div');
                bead.className = `bead ${item.type}`;
                bead.textContent = item.label;
                bead.addEventListener('click', () => selectBead(index));
                rosaryBeads.appendChild(bead);
            });
            
            // Add decade beads (5 decades of 10 Hail Marys each)
            for (let decade = 0; decade < 5; decade++) {
                // Our Father bead for the decade
                const ofBead = document.createElement('div');
                ofBead.className = 'bead our-father';
                ofBead.textContent = 'OF';
                ofBead.addEventListener('click', () => selectDecadeBead(decade, 'ourFather'));
                rosaryBeads.appendChild(ofBead);
                
                // 10 Hail Mary beads for the decade
                for (let i = 0; i < 10; i++) {
                    const hmBead = document.createElement('div');
                    hmBead.className = 'bead hail-mary';
                    hmBead.textContent = 'HM';
                    hmBead.addEventListener('click', () => selectDecadeBead(decade, 'hailMary', i));
                    rosaryBeads.appendChild(hmBead);
                }
                
                // Glory Be bead after the decade
                const gbBead = document.createElement('div');
                gbBead.className = 'bead glory-be';
                gbBead.textContent = 'GB';
                gbBead.addEventListener('click', () => selectDecadeBead(decade, 'gloryBe'));
                rosaryBeads.appendChild(gbBead);
            }
            
            // Add concluding prayers
            const fatimaBead = document.createElement('div');
            fatimaBead.className = 'bead special';
            fatimaBead.textContent = 'FP';
            fatimaBead.addEventListener('click', () => selectConcludingPrayer('fatima'));
            rosaryBeads.appendChild(fatimaBead);
            
            const hhqBead = document.createElement('div');
            hhqBead.className = 'bead special';
            hhqBead.textContent = 'HHQ';
            hhqBead.addEventListener('click', () => selectConcludingPrayer('hailHolyQueen'));
            rosaryBeads.appendChild(hhqBead);
            
            const stMichaelBead = document.createElement('div');
            stMichaelBead.className = 'bead special';
            stMichaelBead.textContent = 'SM';
            stMichaelBead.addEventListener('click', () => selectConcludingPrayer('stMichael'));
            rosaryBeads.appendChild(stMichaelBead);
            
            const finalBead = document.createElement('div');
            finalBead.className = 'bead special';
            finalBead.textContent = 'END';
            finalBead.addEventListener('click', () => selectConcludingPrayer('finalPrayer'));
            rosaryBeads.appendChild(finalBead);
        }

        // Generate decade selector buttons
        function generateDecadeSelector() {
            decadeSelector.innerHTML = '';
            
            for (let i = 0; i < 5; i++) {
                const button = document.createElement('button');
                button.className = 'decade-button';
                button.textContent = `Decade ${i + 1}`;
                button.addEventListener('click', () => startDecade(i));
                decadeSelector.appendChild(button);
            }
        }

        // Select a bead from the initial prayers
        function selectBead(index) {
            resetActiveBeads();
            currentBead = index;
            isInDecade = false;
            
            const bead = rosaryBeads.children[index];
            bead.classList.add('active');
            
            const prayerType = rosaryData.structure[index].type;
            displayPrayer(prayerType);
            
            updateProgressText();
        }

        // Select a bead from a decade
        function selectDecadeBead(decade, type, hailMaryIndex = null) {
            resetActiveBeads();
            currentDecade = decade;
            isInDecade = true;
            
            // Calculate bead index (initial prayers + previous decades + current position)
            let beadIndex = rosaryData.structure.length;
            for (let i = 0; i < decade; i++) {
                beadIndex += 12; // OF + 10 HM + GB
            }
            
            if (type === 'ourFather') {
                beadIndex += 0;
            } else if (type === 'hailMary') {
                beadIndex += 1 + hailMaryIndex;
                currentHailMary = hailMaryIndex;
            } else if (type === 'gloryBe') {
                beadIndex += 11;
            }
            
            const bead = rosaryBeads.children[beadIndex];
            bead.classList.add('active');
            
            displayPrayer(type, decade, hailMaryIndex);
            updateProgressText();
        }

        // Select a concluding prayer
        function selectConcludingPrayer(type) {
            resetActiveBeads();
            isInDecade = false;
            
            // Calculate bead index (initial prayers + all decades + position in concluding prayers)
            let beadIndex = rosaryData.structure.length + (5 * 12);
            
            if (type === 'fatima') beadIndex += 0;
            else if (type === 'hailHolyQueen') beadIndex += 1;
            else if (type === 'stMichael') beadIndex += 2;
            else if (type === 'finalPrayer') beadIndex += 3;
            
            const bead = rosaryBeads.children[beadIndex];
            bead.classList.add('active');
            
            displayPrayer(type);
            updateProgressText();
        }

        // Start a specific decade
        function startDecade(decadeIndex) {
            resetActiveBeads();
            currentDecade = decadeIndex;
            isInDecade = true;
            currentHailMary = 0;
            
            // Update decade buttons
            document.querySelectorAll('.decade-button').forEach((btn, index) => {
                btn.classList.toggle('active', index === decadeIndex);
            });
            
            // Calculate bead index for the Our Father of this decade
            const beadIndex = rosaryData.structure.length + (decadeIndex * 12);
            const bead = rosaryBeads.children[beadIndex];
            bead.classList.add('active');
            
            displayPrayer('ourFather', decadeIndex);
            updateProgressText();
        }

        // Display the appropriate prayer and meditation
        function displayPrayer(type, decade = null, hailMaryIndex = null) {
            const prayer = rosaryData.prayers[type];
            
            let displayHTML = `<h3>${prayer.title}</h3><p>${prayer.text}</p>`;
            
            if (type === 'ourFather' && decade !== null) {
                displayHTML += `<div class="meditation-display"><strong>Decade Intention:</strong> ${rosaryData.decades[decade].intention}</div>`;
            }
            
            if (type === 'hailMary' && decade !== null && hailMaryIndex !== null) {
                const meditation = rosaryData.decades[decade].meditations[hailMaryIndex];
                displayHTML += `<div class="meditation-display"><strong>Meditation ${hailMaryIndex + 1}:</strong> ${meditation}</div>`;
            }
            
            prayerDisplay.innerHTML = displayHTML;
            
            // Special effects for certain prayers
            if (type === 'sealing') {
                document.body.classList.add('glowing');
                protectionStatus.textContent = 'MAXIMUM PROTECTION ACTIVE';
            }
        }

        // Update progress text
        function updateProgressText() {
            if (!isInDecade) {
                if (currentBead === 0) {
                    progressText.textContent = "Sealing Prayer of Protection";
                } else if (currentBead < rosaryData.structure.length) {
                    progressText.textContent = `Initial Prayers: ${rosaryData.structure[currentBead].title}`;
                } else {
                    progressText.textContent = "Concluding Prayers";
                }
            } else {
                progressText.textContent = `Decade ${currentDecade + 1}, Hail Mary ${currentHailMary + 1}`;
            }
        }

        // Reset all active beads
        function resetActiveBeads() {
            document.querySelectorAll('.bead').forEach(bead => {
                bead.classList.remove('active');
            });
        }

        // Start the rosary from the beginning
        function startRosary() {
            resetRosary();
            selectBead(0);
            protectionStatus.textContent = "PROTECTION INITIATED";
        }

        // Reset the rosary
        function resetRosary() {
            resetActiveBeads();
            currentBead = 0;
            currentDecade = 0;
            currentHailMary = 0;
            isInDecade = false;
            
            if (autoPrayInterval) {
                clearInterval(autoPrayInterval);
                autoPrayInterval = null;
                autoPrayButton.textContent = "Auto-Pray";
            }
            
            document.querySelectorAll('.decade-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            prayerDisplay.innerHTML = `<p>Welcome to the Deliverance and Healing Rosary.</p>
                                      <p>This powerful prayer format is designed to bring blessings to mankind, end suffering, and provide spiritual healing.</p>`;
            meditationDisplay.textContent = "Meditation focus will appear here as you pray each Hail Mary.";
            progressText.textContent = "Begin with Sealing Prayer";
            protectionStatus.textContent = "ACTIVE";
            document.body.classList.remove('glowing');
        }

        // Auto-pray through the rosary
        function toggleAutoPray() {
            if (autoPrayInterval) {
                clearInterval(autoPrayInterval);
                autoPrayInterval = null;
                autoPrayButton.textContent = "Auto-Pray";
                return;
            }
            
            autoPrayButton.textContent = "Stop Auto-Pray";
            let step = 0;
            
            autoPrayInterval = setInterval(() => {
                if (step === 0) {
                    startRosary();
                } else if (step < rosaryData.structure.length) {
                    selectBead(step);
                } else if (step === rosaryData.structure.length) {
                    startDecade(0);
                } else if (step < rosaryData.structure.length + 60) { // 5 decades * 12 beads
                    // Calculate current decade and position
                    const beadsIntoDecades = step - rosaryData.structure.length;
                    const currentDecadeIndex = Math.floor(beadsIntoDecades / 12);
                    const beadInDecade = beadsIntoDecades % 12;
                    
                    if (currentDecadeIndex < 5) {
                        if (beadInDecade === 0) {
                            selectDecadeBead(currentDecadeIndex, 'ourFather');
                        } else if (beadInDecade < 11) {
                            selectDecadeBead(currentDecadeIndex, 'hailMary', beadInDecade - 1);
                        } else {
                            selectDecadeBead(currentDecadeIndex, 'gloryBe');
                        }
                    }
                } else if (step === rosaryData.structure.length + 60) {
                    selectConcludingPrayer('fatima');
                } else if (step === rosaryData.structure.length + 61) {
                    selectConcludingPrayer('hailHolyQueen');
                } else if (step === rosaryData.structure.length + 62) {
                    selectConcludingPrayer('stMichael');
                } else if (step === rosaryData.structure.length + 63) {
                    selectConcludingPrayer('finalPrayer');
                } else {
                    clearInterval(autoPrayInterval);
                    autoPrayInterval = null;
                    autoPrayButton.textContent = "Auto-Pray";
                    protectionStatus.textContent = "ROSARY COMPLETE - FULL PROTECTION";
                    return;
                }
                
                step++;
            }, 4000); // 4 seconds per prayer
        }

        // Update display
        function updateDisplay() {
            // Initial display
            prayerDisplay.innerHTML = `<p>Welcome to the Deliverance and Healing Rosary.</p>
                                      <p>This powerful prayer format is designed to bring blessings to mankind, end suffering, and provide spiritual healing.</p>
                                      <p>Click "Begin Rosary" to start your prayer journey.</p>`;
        }

        // Event listeners
        startButton.addEventListener('click', startRosary);
        resetButton.addEventListener('click', resetRosary);
        autoPrayButton.addEventListener('click', toggleAutoPray);

        // Initialize on load
        window.addEventListener('load', initializeRosary);
    </script>
</body>
</html>